// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model WeaponProfile {
  id       String @id @default(cuid())
  name     String @unique @default("")
  range    String @default("")
  type     String
  shots    String @default("")
  AP       String @default("")
  dmg      String @default("")
  strength String @default("")
  notes    String @default("")
  units    Unit[] @relation("Unit_weapons")
}

model UnitStat {
  id    String @id @default(cuid())
  name  String @unique @default("")
  M     String @default("")
  WS    String @default("")
  BS    String @default("")
  S     String @default("")
  A     String @default("")
  units Unit[] @relation("Unit_stats")
}

model Unit {
  id        String          @id @default(cuid())
  name      String          @unique @default("")
  details   String          @default("")
  stats     UnitStat?       @relation("Unit_stats", fields: [statsId], references: [id])
  statsId   String?         @map("stats")
  weapons   WeaponProfile[] @relation("Unit_weapons")
  keywords  Tag[]           @relation("Unit_keywords")
  points    Int
  abilities Rule[]          @relation("Unit_abilities")
  role      String

  @@index([statsId])
}

model Rule {
  id                  String @id @default(cuid())
  name                String @default("")
  details             String @default("")
  from_Unit_abilities Unit[] @relation("Unit_abilities")
}

model Tag {
  id                 String @id @default(cuid())
  name               String @unique @default("")
  from_Unit_keywords Unit[] @relation("Unit_keywords")
}

model User {
  id       String @id @default(cuid())
  name     String @unique @default("")
  email    String @unique @default("")
  password String
}